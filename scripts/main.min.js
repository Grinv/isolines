(function(){var a,b,c,d,e,f=function(a,b){return function(){return a.apply(b,arguments)}};e=function(a,b){return Math.floor(Math.random()*(b-a+1))+a},b=function(){function b(){this.update=f(this.update,this);var a,b,d;this.ctx=this.createCanvas(),a=new c(this),a.sw=64,a.sh=64,a.dw=64,a.dh=64,d=new c(this),d.sx=64,d.sw=64,d.sh=64,d.dw=64,d.dh=64,b=new c(this),b.sx=128,b.sw=64,b.sh=64,b.dw=64,b.dh=64,this.sprites.push(a),this.sprites.push(d),this.sprites.push(b)}return b.prototype.viewWidth=320,b.prototype.viewHeight=240,b.prototype.sprites=[],b.prototype.createCanvas=function(){var b;return b=document.createElement("canvas"),b.width=this.viewWidth,b.height=this.viewHeight,a(".container .game").append(b),b.getContext("2d")},b.prototype.run=function(){return this.update()},b.prototype.update=function(){var a;return a=(new Date).getTime(),this.render(a-this.lastUpdate),this.lastUpdate=a,window.requestAnimationFrame(this.update)},b.prototype.render=function(a){var b,c,d,e;for(d=this.sprites,b=0,c=d.length;c>b;b++)e=d[b],e.draw();return this.renderDebugOverlay(a)},b.prototype.renderDebugOverlay=function(a){var b;return this.ctx.fillStyle="black",this.ctx.fillRect(5,5,80,20),b=Math.round(1e3/a)+" FPS",this.ctx.fillStyle="white",this.ctx.font="Bold 15px Helvetica",this.ctx.fillText(b,10,20)},b.prototype.renderBackground=function(){return this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.viewWidth,this.viewHeight)},b.prototype.drawRandomBox=function(){var a,b,c,d,f;return c=e(0,255),b=e(0,255),a=e(0,255),this.ctx.fillStyle="rgb("+c+", "+b+", "+a+")",d=e(0,this.viewWidth),f=e(0,this.viewHeight),this.ctx.fillRect(d,f,30,30)},b}(),d=function(){function a(){var a;a=new Image,a.src=this.src,a.onload=function(a){return function(){return a.loaded=!0}}(this),this.image=a}return a.prototype.loaded=!1,a.prototype.src="images/sprite_sheet.png",a}(),c=function(){function a(a){this.game=a}return a.prototype.sx=0,a.prototype.sy=0,a.prototype.sw=0,a.prototype.sh=0,a.prototype.dx=0,a.prototype.dy=0,a.prototype.dw=0,a.prototype.dh=0,a.prototype.image=new d,a.prototype.drawImage=function(a,b,c,d){return this.image.loaded?this.game.ctx.drawImage(this.image.image,a,b,this.sw,this.sh,c,d,this.dw,this.dh):void 0},a.prototype.draw=function(){return this.dx=e(-64,320),this.dy=e(-64,240),this.drawImage(this.sx,this.sy,this.dx,this.dy)},a}(),(a=Zepto)(function(){var a;return a=new b,a.run()})}).call(this);